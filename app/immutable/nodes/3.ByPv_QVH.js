import{_ as t}from"../chunks/preload-helper.BAWc4jz7.js";import{s as e,e as n,a as o,c as s,b as i,g as a,d as r,f as c,h as d,i as l,j as w,n as h,o as b,k as u}from"../chunks/scheduler.Cvti5IDW.js";import{S as m,i as p}from"../chunks/index.C70B84gI.js";import{S as g,P as f,W as y,B as S,M as I,a as B,E as D,L as V,b as v,c as x,d as R,D as T}from"../chunks/three.module.BkHAO7j4.js";function M(t){let e,b,u,m,p,g,f='<h1 class="cTitleStyle md:!text-3xl">Three.js with Ammo.js</h1>',y="<span></span>";return{c(){e=n("div"),b=n("div"),b.innerHTML=f,u=o(),m=n("div"),m.innerHTML=y,p=o(),g=n("div"),this.h()},l(t){e=s(t,"DIV",{class:!0});var n=i(e);b=s(n,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-19gsbch"!==a(b)&&(b.innerHTML=f),u=r(n),m=s(n,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-634zq9"!==a(m)&&(m.innerHTML=y),p=r(n),g=s(n,"DIV",{class:!0}),i(g).forEach(c),n.forEach(c),this.h()},h(){d(b,"class","cTitlePartStyle md:!mb-4"),d(m,"class","cContentPartStyle !m-4"),d(g,"class","w-80 h-80 bg-gray-300 border border-black"),d(e,"class","cRouteBodyStyle")},m(n,o){l(n,e,o),w(e,b),w(e,u),w(e,m),w(e,p),w(e,g),t[1](g)},p:h,i:h,o:h,d(n){n&&c(e),t[1](null)}}}function j(e,n,o){let s;return b((async()=>{const e=new g,n=new f(75,s.clientWidth/s.clientHeight,.1,1e3);n.position.z=5;const o=new y;o.setSize(s.clientWidth,s.clientHeight),s.appendChild(o.domElement);const i=await t((()=>import("../chunks/ammo.BYDaiP_J.js").then((t=>t.a))),[],import.meta.url),a=new i.btDefaultCollisionConfiguration,r=new i.btCollisionDispatcher(a),c=new i.btDbvtBroadphase,d=new i.btSequentialImpulseConstraintSolver,l=new i.btDiscreteDynamicsWorld(r,c,d,a);l.setGravity(new i.btVector3(0,-10,0));const w=new S,h=new I({color:65280}),b=new B(w,h),u=new D(w),m=new V({color:16711680}),p=new v(u,m);b.add(p),e.add(b);const M=new i.btBoxShape(new i.btVector3(.5,.5,.5)),j=new i.btTransform;j.setIdentity(),j.setOrigin(new i.btVector3(0,5,0));const z=new i.btVector3(0,0,0);M.calculateLocalInertia(1,z);const C=new i.btDefaultMotionState(j),L=new i.btRigidBodyConstructionInfo(1,C,M,z),H=new i.btRigidBody(L);l.addRigidBody(H);const W=new x(.5,32,32),k=new I({color:187}),E=new B(W,k);E.position.set(2,3,0),e.add(E);const O=new i.btSphereShape(.5),P=new i.btTransform;P.setIdentity(),P.setOrigin(new i.btVector3(2,3,0));const _=new i.btVector3(0,0,0);O.calculateLocalInertia(1,_);const q=new i.btDefaultMotionState(P),A=new i.btRigidBodyConstructionInfo(1,q,O,_),F=new i.btRigidBody(A);l.addRigidBody(F);const G=new R(10,10),J=new I({color:8947848,side:T}),K=new B(G,J);K.rotation.x=Math.PI/2,K.position.y=-1,e.add(K);const N=new i.btBoxShape(new i.btVector3(5,.5,5)),Q=new i.btTransform;Q.setIdentity(),Q.setOrigin(new i.btVector3(0,-1,0));const U=new i.btVector3(0,0,0),X=new i.btDefaultMotionState(Q),Y=new i.btRigidBodyConstructionInfo(0,X,N,U),Z=new i.btRigidBody(Y);l.addRigidBody(Z),window.addEventListener("resize",(()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)})),console.log("start animate"),function t(){requestAnimationFrame(t),l.stepSimulation(1/60,10);const s=H.getWorldTransform(),i=s.getOrigin(),a=s.getRotation();b.position.set(i.x(),i.y(),i.z()),b.quaternion.set(a.x(),a.y(),a.z(),a.w());const r=F.getWorldTransform(),c=r.getOrigin(),d=r.getRotation();E.position.set(c.x(),c.y(),c.z()),E.quaternion.set(d.x(),d.y(),d.z(),d.w()),o.render(e,n)}()})),[s,function(t){u[t?"unshift":"push"]((()=>{s=t,o(0,s)}))}]}class z extends m{constructor(t){super(),p(this,t,j,M,e,{})}}export{z as component};
