import{s as e,E as s,e as a,a as t,c as n,b as o,d as l,f as c,G as i,h as r,N as d,i as u,j as h,p as m,u as f,O as p,P as g,M as b,F as y,Q as w,R as v,S as $,T as k,U as x,k as E,g as C,V as z,o as I,l as j}from"../chunks/scheduler.gQwjQPNv.js";import{S,i as D,t as V,g as A,b as P,e as L,f as T,c as U,a as M,m as F,d as R}from"../chunks/index.DonX2Vx-.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.B6QQaiSd.js";import{g as B}from"../chunks/spread.BgszbExe.js";import{b as N,I as O,c as _,a as W}from"../chunks/moveCamera.DY9sxL-o.js";import{W as H,V as q,E as G,A as Q,M as J,T as K,F as X,R as Y,C as Z}from"../chunks/application.DCJz7xJC.js";function ee(e){let s,t;const l=e[22].default,i=w(l,e,e[21],null);return{c(){s=a("div"),i&&i.c(),this.h()},l(e){s=n(e,"DIV",{class:!0});var a=o(s);i&&i.l(a),a.forEach(c),this.h()},h(){r(s,"class","slide-toggle-text ml-3")},m(e,a){u(e,s,a),i&&i.m(s,null),t=!0},p(e,s){i&&i.p&&(!t||2097152&s[0])&&v(i,l,e,e[21],t?k(l,e[21],s,null):$(e[21]),null)},i(e){t||(V(i,e),t=!0)},o(e){P(i,e),t=!1},d(e){e&&c(s),i&&i.d(e)}}}function se(e){let p,g,b,y,w,v,$,k,x,E,C,z,I,j,S,D=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:e[1]},e[8](),{disabled:y=e[9].disabled}],T={};for(let a=0;a<D.length;a+=1)T=s(T,D[a]);let U=e[10].default&&ee(e);return{c(){p=a("div"),g=a("label"),b=a("input"),w=t(),v=a("div"),$=a("div"),E=t(),U&&U.c(),this.h()},l(e){p=n(e,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var s=o(p);g=n(s,"LABEL",{class:!0});var a=o(g);b=n(a,"INPUT",{type:!0,class:!0,name:!0}),w=l(a),v=n(a,"DIV",{class:!0});var t=o(v);$=n(t,"DIV",{class:!0}),o($).forEach(c),t.forEach(c),E=l(a),U&&U.l(a),a.forEach(c),s.forEach(c),this.h()},h(){i(b,T),r($,"class",k="slide-toggle-thumb "+e[3]),d($,"cursor-not-allowed",e[9].disabled),r(v,"class",x="slide-toggle-track "+e[4]),d(v,"cursor-not-allowed",e[9].disabled),r(g,"class",C="slide-toggle-label "+e[5]),r(p,"id",e[2]),r(p,"class",z="slide-toggle "+e[6]),r(p,"data-testid","slide-toggle"),r(p,"role","switch"),r(p,"aria-label",e[2]),r(p,"aria-checked",e[0]),r(p,"tabindex","0")},m(s,a){u(s,p,a),h(p,g),h(g,b),b.autofocus&&b.focus(),b.checked=e[0],h(g,w),h(g,v),h(v,$),h(g,E),U&&U.m(g,null),I=!0,j||(S=[m(b,"change",e[31]),m(b,"click",e[23]),m(b,"keydown",e[24]),m(b,"keyup",e[25]),m(b,"keypress",e[26]),m(b,"mouseover",e[27]),m(b,"change",e[28]),m(b,"focus",e[29]),m(b,"blur",e[30]),m(p,"keydown",e[7])],j=!0)},p(e,s){i(b,T=B(D,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!I||2&s[0])&&{name:e[1]},e[8](),(!I||512&s[0]&&y!==(y=e[9].disabled))&&{disabled:y}])),1&s[0]&&(b.checked=e[0]),(!I||8&s[0]&&k!==(k="slide-toggle-thumb "+e[3]))&&r($,"class",k),(!I||520&s[0])&&d($,"cursor-not-allowed",e[9].disabled),(!I||16&s[0]&&x!==(x="slide-toggle-track "+e[4]))&&r(v,"class",x),(!I||528&s[0])&&d(v,"cursor-not-allowed",e[9].disabled),e[10].default?U?(U.p(e,s),1024&s[0]&&V(U,1)):(U=ee(e),U.c(),V(U,1),U.m(g,null)):U&&(A(),P(U,1,1,(()=>{U=null})),L()),(!I||32&s[0]&&C!==(C="slide-toggle-label "+e[5]))&&r(g,"class",C),(!I||4&s[0])&&r(p,"id",e[2]),(!I||64&s[0]&&z!==(z="slide-toggle "+e[6]))&&r(p,"class",z),(!I||4&s[0])&&r(p,"aria-label",e[2]),(!I||1&s[0])&&r(p,"aria-checked",e[0])},i(e){I||(V(U),I=!0)},o(e){P(U),I=!1},d(e){e&&c(p),U&&U.d(),j=!1,f(S)}}}function ae(e,a,t){let n,o,l,c,i,r,d,u;const h=["name","checked","size","background","active","border","rounded","label"];let m=p(a,h),{$$slots:f={},$$scope:w}=a;const v=g(f),$=b();let k,{name:E}=a,{checked:C=!1}=a,{size:z="md"}=a,{background:I="bg-surface-400 dark:bg-surface-700"}=a,{active:j="bg-surface-900 dark:bg-surface-300"}=a,{border:S=""}=a,{rounded:D="rounded-full"}=a,{label:V=""}=a;switch(z){case"sm":k="w-12 h-6";break;case"lg":k="w-20 h-10";break;default:k="w-16 h-8"}return e.$$set=e=>{t(9,a=s(s({},a),y(e))),t(33,m=p(a,h)),"name"in e&&t(1,E=e.name),"checked"in e&&t(0,C=e.checked),"size"in e&&t(11,z=e.size),"background"in e&&t(12,I=e.background),"active"in e&&t(13,j=e.active),"border"in e&&t(14,S=e.border),"rounded"in e&&t(15,D=e.rounded),"label"in e&&t(2,V=e.label),"$$scope"in e&&t(21,w=e.$$scope)},e.$$.update=()=>{12289&e.$$.dirty[0]&&t(19,n=C?j:`${I} cursor-pointer`),1&e.$$.dirty[0]&&t(18,o=C?"bg-white/75":"bg-white"),1&e.$$.dirty[0]&&t(17,l=C?"translate-x-full":""),t(20,c=!0===a.disabled?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,i=`inline-block ${D} ${c} ${a.class??""}`),638976&e.$$.dirty[0]&&t(4,d=`flex transition-all duration-[200ms] cursor-pointer ${S} ${D} ${k} ${n}`),425984&e.$$.dirty[0]&&t(3,u=`w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow ${D} ${o} ${l}`)},t(5,r="unstyled flex items-center"),a=y(a),[C,E,V,u,d,"unstyled flex items-center",i,function(e){if(["Enter","Space"].includes(e.code)){e.preventDefault(),$("keyup",e);e.currentTarget.firstChild.click()}},function(){return delete m.class,m},a,v,z,I,j,S,D,k,l,o,n,c,w,f,function(s){x.call(this,e,s)},function(s){x.call(this,e,s)},function(s){x.call(this,e,s)},function(s){x.call(this,e,s)},function(s){x.call(this,e,s)},function(s){x.call(this,e,s)},function(s){x.call(this,e,s)},function(s){x.call(this,e,s)},function(){C=this.checked,t(0,C)}]}class te extends S{constructor(s){super(),D(this,s,ae,se,e,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}async function ne(e,s,a){const t=await e(s);if(!t.ok)throw new Error(`Failed to load script: ${s}`);const n="application/wasm"===a?await t.arrayBuffer():await t.text(),o=new Blob([n],{type:a});return URL.createObjectURL(o)}async function oe(e){return await async function(e){const s="https://raw.githubusercontent.com/kripken/ammo.js/main/builds",a=`${s}/ammo.wasm.js`,t=`${s}/ammo.wasm.wasm`,n=`${s}/ammo.js`,o=await ne(e,a,"application/javascript"),l=await ne(e,t,"application/wasm"),c=await ne(e,n,"application/javascript");H.setConfig("Ammo",{glueUrl:o,wasmUrl:l,fallbackUrl:c})}(e),new Promise((e=>{H.getInstance("Ammo",(s=>{console.log("Loaded Ammo.js successfully"),e()}))}))}const le=(e,s)=>e.clone().mul(new q(s,s,s)),ce=""+new URL("../assets/checker16.DLyU1MTW.png",import.meta.url).href;function ie(e,s,a){const t=new G;return[{pos:new q(s.x,s.y+a.y/2,s.z),scale:new q(a.x,1,a.z)},{pos:new q(s.x-a.x/2,s.y,s.z),scale:new q(1,a.y,a.z)},{pos:new q(s.x+a.x/2,s.y,s.z),scale:new q(1,a.y,a.z)},{pos:new q(s.x,s.y,s.z-a.z/2),scale:new q(a.x,a.y,1)},{pos:new q(s.x,s.y,s.z+a.z/2),scale:new q(a.x,a.y,1)}].map((e=>{const s=function(e,s){const a=new G;a.addComponent("model",{type:"box"}),a.setLocalScale(s.x,s.y,s.z),a.setLocalPosition(e.x,e.y,e.z),a.addComponent("rigidbody",{type:"static",restitution:1}),a.addComponent("collision",{type:"box",enabled:!1,halfExtents:le(s,.5)}),a.model&&(a.model.enabled=!1);return a}(e.pos,e.scale);t.addChild(s)})),e.root.addChild(t),t}function re(e){let s,i,d,f,p,g,b,y,w,v,$,k,x,I,j,S,D,A,L,B,N,_,W,H,q='<h1 class="cTitleStyle md:!text-3xl">bounce-sphere</h1>',G="Spawn sphere",Q="Enclose World";function J(s){e[4](s)}k=new O({props:{icon:"mdi:pokeball",class:"cIconStyle"}});let K={name:"encloseToggle",size:"sm",background:"bg-gray-700",active:"bg-blue-500",border:"border border-gray-300",rounded:"rounded-full",label:"Toggle Enclosure"};return void 0!==e[1]&&(K.checked=e[1]),A=new te({props:K}),E.push((()=>T(A,"checked",J))),A.$on("change",e[3]),{c(){s=a("div"),i=a("div"),i.innerHTML=q,d=t(),f=a("div"),p=a("div"),g=a("div"),b=a("span"),b.textContent=G,y=t(),w=a("form"),v=a("button"),$=a("div"),U(k.$$.fragment),x=t(),I=a("div"),j=a("div"),S=a("span"),S.textContent=Q,D=t(),U(A.$$.fragment),B=t(),N=a("canvas"),this.h()},l(e){s=n(e,"DIV",{class:!0});var a=o(s);i=n(a,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-yn21g3"!==C(i)&&(i.innerHTML=q),d=l(a),f=n(a,"DIV",{class:!0});var t=o(f);p=n(t,"DIV",{});var r=o(p);g=n(r,"DIV",{class:!0});var u=o(g);b=n(u,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-au5ec6"!==C(b)&&(b.textContent=G),y=l(u),w=n(u,"FORM",{});var h=o(w);v=n(h,"BUTTON",{type:!0,class:!0});var m=o(v);$=n(m,"DIV",{class:!0});var E=o($);M(k.$$.fragment,E),E.forEach(c),m.forEach(c),h.forEach(c),u.forEach(c),r.forEach(c),x=l(t),I=n(t,"DIV",{});var z=o(I);j=n(z,"DIV",{class:!0});var V=o(j);S=n(V,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-1bq7ifp"!==C(S)&&(S.textContent=Q),D=l(V),M(A.$$.fragment,V),V.forEach(c),z.forEach(c),t.forEach(c),B=l(a),N=n(a,"CANVAS",{class:!0}),o(N).forEach(c),a.forEach(c),this.h()},h(){r(i,"class","cTitlePartStyle md:!mb-4"),r(b,"class","text-lg"),r($,"class","cIconDivStyle"),r(v,"type","submit"),r(v,"class","cIconButtonStyle"),r(g,"class","cInputFormAndMessagePartStyle"),r(S,"class","text-lg"),r(j,"class","cInputFormAndMessagePartStyle"),r(f,"class","flex items-center justify-center space-x-4"),r(N,"class","w-96 h-96 md:w-[600px] md:h-[600px] border border-black"),r(s,"class","cRouteBodyStyle")},m(a,t){u(a,s,t),h(s,i),h(s,d),h(s,f),h(f,p),h(p,g),h(g,b),h(g,y),h(g,w),h(w,v),h(v,$),F(k,$,null),h(f,x),h(f,I),h(I,j),h(j,S),h(j,D),F(A,j,null),h(s,B),h(s,N),e[5](N),_=!0,W||(H=m(w,"submit",e[2]),W=!0)},p(e,[s]){const a={};!L&&2&s&&(L=!0,a.checked=e[1],z((()=>L=!1))),A.$set(a)},i(e){_||(V(k.$$.fragment,e),V(A.$$.fragment,e),_=!0)},o(e){P(k.$$.fragment,e),P(A.$$.fragment,e),_=!1},d(a){a&&c(s),R(k),R(A),e[5](null),W=!1,H()}}}function de(e,s,a){let t,n,o,l;const c=new q(0,2,0);function i(e){const s=e;s.getPosition().y<-10&&(t.root.removeChild(s),s.destroy())}I((async()=>{try{await oe(window.fetch)}catch(s){return void console.error("Failed to load Ammo.js",s)}t=function(e){const s=new Q(e,{mouse:new J(e),touch:new K(e)});s.setCanvasFillMode(X),s.setCanvasResolution(Y),window.addEventListener("resize",(()=>s.resizeCanvas())),s.systems.rigidbody&&s.systems.collision&&s.systems.rigidbody.gravity.set(0,-9.81,0);s.start();const a=new G("camera");a.addComponent("camera",{clearColor:new Z(.1,.2,.3)}),s.root.addChild(a),a.setPosition(0,3,15),a.setEulerAngles(-15,0,0),W(s,a);const t=new G("light");t.addComponent("light"),s.root.addChild(t),t.setEulerAngles(45,0,0);const n=new q(0,-1,0),l=new q(10,1,10);!function(e,s,a){const t=N(e,ce),n=new G("ground");n.addComponent("render",{type:"box",material:t}),n.setPosition(s),n.setLocalScale(a),n.addComponent("rigidbody",{type:"static",restitution:1}),n.addComponent("collision",{type:"box",halfExtents:le(a,.5)}),e.root.addChild(n)}(s,n,l);const c=new q(0,n.y+l.y/2,0),i=10,r=new q(l.x,i,l.z);return o=ie(s,c,r),s}(n),t.on("update",(()=>{t.root.children.forEach(i)}));const e=_(t,c,true);l=e.clone()})),j((()=>{t&&t.destroy()}));let r=!1;return[n,r,function(){const e=l.clone();e.setPosition(c),t.root.addChild(e)},function(){o.children.forEach((e=>{const s=e;s.collision&&(s.collision.enabled=r)}))},function(e){r=e,a(1,r)},function(e){E[e?"unshift":"push"]((()=>{n=e,a(0,n)}))}]}class ue extends S{constructor(s){super(),D(this,s,de,re,e,{})}}export{ue as component};
