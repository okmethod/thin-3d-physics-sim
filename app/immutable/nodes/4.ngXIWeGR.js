import{s,e as a,a as t,c as e,b as o,g as n,d as c,f as r,h as i,i as l,j as m,p as d,n as u,o as p,l as h,k as f}from"../chunks/scheduler.CIxqhd5x.js";import{S as w,i as y,c as v,a as g,m as b,t as C,b as x,d as j}from"../chunks/index.CX_x3sVV.js";import{b as E,I as k,a as S,c as $}from"../chunks/moveCamera.t5TJ0JnP.js";import{W as A,V as I,E as L,A as M,M as T,T as U,F as D,R as P,C as R}from"../chunks/application.DCJz7xJC.js";async function V(s,a,t){const e=await s(a);if(!e.ok)throw new Error(`Failed to load script: ${a}`);const o="application/wasm"===t?await e.arrayBuffer():await e.text(),n=new Blob([o],{type:t});return URL.createObjectURL(n)}async function F(s){return await async function(s){const a="https://raw.githubusercontent.com/kripken/ammo.js/main/builds",t=`${a}/ammo.wasm.js`,e=`${a}/ammo.wasm.wasm`,o=`${a}/ammo.js`,n=await V(s,t,"application/javascript"),c=await V(s,e,"application/wasm"),r=await V(s,o,"application/javascript");A.setConfig("Ammo",{glueUrl:n,wasmUrl:c,fallbackUrl:r})}(s),new Promise((s=>{A.getInstance("Ammo",(a=>{console.log("Loaded Ammo.js successfully"),s()}))}))}const B=(s,a)=>s.clone().mul(new I(a,a,a)),N=""+new URL("../assets/checker16.DLyU1MTW.png",import.meta.url).href;function O(s){let p,h,f,w,y,E,S,$,A,I,L,M,T,U,D,P,R='<h1 class="cTitleStyle md:!text-3xl">bounce-marumain</h1>',V="Spawn Marumain";return L=new k({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),{c(){p=a("div"),h=a("div"),h.innerHTML=R,f=t(),w=a("div"),y=a("div"),E=a("span"),E.textContent=V,S=t(),$=a("form"),A=a("button"),I=a("div"),v(L.$$.fragment),M=t(),T=a("canvas"),this.h()},l(s){p=e(s,"DIV",{class:!0});var a=o(p);h=e(a,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-1cx2smi"!==n(h)&&(h.innerHTML=R),f=c(a),w=e(a,"DIV",{class:!0});var t=o(w);y=e(t,"DIV",{class:!0});var i=o(y);E=e(i,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-6cq9hd"!==n(E)&&(E.textContent=V),S=c(i),$=e(i,"FORM",{});var l=o($);A=e(l,"BUTTON",{type:!0,class:!0});var m=o(A);I=e(m,"DIV",{class:!0});var d=o(I);g(L.$$.fragment,d),d.forEach(r),m.forEach(r),l.forEach(r),i.forEach(r),t.forEach(r),M=c(a),T=e(a,"CANVAS",{class:!0}),o(T).forEach(r),a.forEach(r),this.h()},h(){i(h,"class","cTitlePartStyle md:!mb-4"),i(E,"class","text-lg"),i(I,"class","cIconDivStyle"),i(A,"type","submit"),i(A,"class","cIconButtonStyle"),i(y,"class","cInputFormAndMessagePartStyle"),i(w,"class","flex items-center justify-center"),i(T,"class","w-[600px] h-[600px] border border-black"),i(p,"class","cRouteBodyStyle")},m(a,t){l(a,p,t),m(p,h),m(p,f),m(p,w),m(w,y),m(y,E),m(y,S),m(y,$),m($,A),m(A,I),b(L,I,null),m(p,M),m(p,T),s[2](T),U=!0,D||(P=d($,"submit",s[1]),D=!0)},p:u,i(s){U||(C(L.$$.fragment,s),U=!0)},o(s){x(L.$$.fragment,s),U=!1},d(a){a&&r(p),j(L),s[2](null),D=!1,P()}}}function z(s,a,t){let e,o;function n(){$(e,new I(0,2,0),true)}function c(s){const a=s;a.getPosition().y<-10&&(e.root.removeChild(a),a.destroy())}return p((async()=>{try{await F(window.fetch)}catch(s){return void console.error("Failed to load Ammo.js",s)}e=function(s){const a=new M(s,{mouse:new T(s),touch:new U(s)});a.setCanvasFillMode(D),a.setCanvasResolution(P),window.addEventListener("resize",(()=>a.resizeCanvas())),a.systems.rigidbody&&a.systems.collision&&a.systems.rigidbody.gravity.set(0,-9.81,0);a.start();const t=new L("camera");t.addComponent("camera",{clearColor:new R(.1,.2,.3)}),a.root.addChild(t),t.setPosition(0,3,15),t.setEulerAngles(-15,0,0),S(a,t);const e=new L("light");return e.addComponent("light"),a.root.addChild(e),e.setEulerAngles(45,0,0),function(s,a){const t=E(s,N),e=new L("ground");e.addComponent("render",{type:"box",material:t}),e.setPosition(a);const o=new I(5,.5,5);e.setLocalScale(B(o,2)),e.addComponent("rigidbody",{type:"static",restitution:1}),e.addComponent("collision",{type:"box",halfExtents:o}),s.root.addChild(e)}(a,new I(0,-1,0)),a}(o),e.on("update",(()=>{e.root.children.forEach(c)})),n()})),h((()=>{e&&e.destroy()})),[o,n,function(s){f[s?"unshift":"push"]((()=>{o=s,t(0,o)}))}]}class H extends w{constructor(a){super(),y(this,a,z,O,s,{})}}export{H as component};
