import{s,e,a,c as t,b as o,g as n,d as c,f as r,h as l,i as d,j as u,n as i,o as h,k as m}from"../chunks/scheduler.Cvti5IDW.js";import{S as p,i as f}from"../chunks/index.Dw4ZbNqI.js";import{A as x,M as C,T as w,F as y,R as v,E as g,g as b,S as L,C as E,a as S,b as T,c as k,d as M,e as R,f as j}from"../chunks/application.N07UiPtk.js";const A=""+new URL("../assets/marumain.COTDcRnU.png",import.meta.url).href;function D(s){let h,m,p,f,x='<h1 class="cTitleStyle md:!text-3xl">PlayCanvas WebGL Game Engine</h1>';return{c(){h=e("div"),m=e("div"),m.innerHTML=x,p=a(),f=e("canvas"),this.h()},l(s){h=t(s,"DIV",{class:!0});var e=o(h);m=t(e,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-plxaf0"!==n(m)&&(m.innerHTML=x),p=c(e),f=t(e,"CANVAS",{class:!0}),o(f).forEach(r),e.forEach(r),this.h()},h(){l(m,"class","cTitlePartStyle md:!mb-4"),l(f,"class","w-80 h-80 border border-black"),l(h,"class","cRouteBodyStyle")},m(e,a){d(e,h,a),u(h,m),u(h,p),u(h,f),s[1](f)},p:i,i:i,o:i,d(e){e&&r(h),s[1](null)}}}function I(s,e,a){let t;return h((()=>{const s=new x(t,{mouse:new C(t),touch:new w(t)});s.setCanvasFillMode(y),s.setCanvasResolution(v),window.addEventListener("resize",(()=>s.resizeCanvas()));const e=new g("sphere");e.addComponent("model",{type:"sphere"}),s.root.addChild(e);const a=new b("marumain_texture","texture",{url:A});s.assets.add(a),a.ready((()=>{const s=new L;s.diffuseMap=a.resource,s.update(),e.model&&(e.model.model.meshInstances[0].material=s)})),s.assets.load(a);const o=new g("camera");o.addComponent("camera",{clearColor:new E(.1,.2,.3)}),s.root.addChild(o),o.setPosition(0,0,3);const n=new g("light");n.addComponent("light"),s.root.addChild(n),n.setEulerAngles(45,0,0);let c=0,r=0,l=!1;s.mouse&&(s.mouse.on(S,(s=>{l=!0,c=s.x,r=s.y})),s.mouse.on(T,(s=>{if(l){const e=s.x-c,a=s.y-r;o.rotateLocal(.1*a,.1*e,0),c=s.x,r=s.y}})),s.mouse.on(k,(()=>{l=!1}))),s.touch&&(s.touch.on(M,(s=>{l=!0,c=s.touches[0].x,r=s.touches[0].y})),s.touch.on(R,(s=>{if(l&&1===s.touches.length){const e=s.touches[0].x-c,a=s.touches[0].y-r;o.rotateLocal(.1*a,.1*e,0),c=s.touches[0].x,r=s.touches[0].y}})),s.touch.on(j,(()=>{l=!1}))),s.on("update",(s=>e.rotate(10*s,20*s,30*s))),s.start()})),[t,function(s){m[s?"unshift":"push"]((()=>{t=s,a(0,t)}))}]}class P extends p{constructor(e){super(),f(this,e,I,D,s,{})}}export{P as component};
