import{s,e,a,c as o,b as t,g as n,d as r,f as i,h as l,i as c,j as m,n as d,o as u,l as h,k as p}from"../chunks/scheduler.HnHK81S2.js";import{S as w,i as f}from"../chunks/index.B6iembQC.js";import{b as y}from"../chunks/paths.gzN6Dmlv.js";import{W as g,V as C,E as b,A as j,M as v,T as x,F as k,R as A,C as E}from"../chunks/application.DCJz7xJC.js";import{b as L,c as S,a as T}from"../chunks/moveCamera.CasoKwSv.js";g.setConfig("Ammo",{glueUrl:`${y}/ammo.js/ammo.wasm.js`,wasmUrl:`${y}/ammo.js/ammo.wasm.wasm`,fallbackUrl:`${y}/ammo.js/ammo.js`});const M=(s,e)=>s.clone().mul(new C(e,e,e)),U=""+new URL("../assets/checker16.DLyU1MTW.png",import.meta.url).href;function P(s){let u,h,p,w,f='<h1 class="cTitleStyle md:!text-3xl">bounce-marumain</h1>';return{c(){u=e("div"),h=e("div"),h.innerHTML=f,p=a(),w=e("canvas"),this.h()},l(s){u=o(s,"DIV",{class:!0});var e=t(u);h=o(e,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-1cx2smi"!==n(h)&&(h.innerHTML=f),p=r(e),w=o(e,"CANVAS",{class:!0}),t(w).forEach(i),e.forEach(i),this.h()},h(){l(h,"class","cTitlePartStyle md:!mb-4"),l(w,"class","w-[600px] h-[600px] border border-black"),l(u,"class","cRouteBodyStyle")},m(e,a){c(e,u,a),m(u,h),m(u,p),m(u,w),s[1](w)},p:d,i:d,o:d,d(e){e&&i(u),s[1](null)}}}function R(s,e,a){let o,t;return u((async()=>{try{await new Promise((s=>{g.getInstance("Ammo",(e=>{console.log("Loaded Ammo.js successfully"),s()}))}))}catch(s){return void console.error("Failed to load Ammo.js",s)}o=function(s){const e=new j(s,{mouse:new v(s),touch:new x(s)});e.setCanvasFillMode(k),e.setCanvasResolution(A),window.addEventListener("resize",(()=>e.resizeCanvas())),e.systems.rigidbody&&e.systems.collision&&e.systems.rigidbody.gravity.set(0,-9.81,0);e.start();const a=new b("camera");a.addComponent("camera",{clearColor:new E(.1,.2,.3)}),e.root.addChild(a),a.setPosition(0,3,15),a.setEulerAngles(-15,0,0),T(e,a);const o=new b("light");return o.addComponent("light"),e.root.addChild(o),o.setEulerAngles(45,0,0),function(s,e){const a=L(s,U),o=new b("ground");o.addComponent("render",{type:"box",material:a}),o.setPosition(e);const t=new C(5,.5,5);o.setLocalScale(M(t,2)),o.addComponent("rigidbody",{type:"static",restitution:1}),o.addComponent("collision",{type:"box",halfExtents:t}),s.root.addChild(o)}(e,new C(0,-1,0)),e}(t),S(o,new C(0,2,0),true)})),h((()=>{o.destroy()})),[t,function(s){p[s?"unshift":"push"]((()=>{t=s,a(0,t)}))}]}class V extends w{constructor(e){super(),f(this,e,R,P,s,{})}}export{V as component};
