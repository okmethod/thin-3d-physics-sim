import{t,a as e}from"./index.C70B84gI.js";import{r as s}from"./scheduler.Cvti5IDW.js";import{g as n}from"./entry.C8qECQfy.js";import{b as o}from"./paths.C1IjywIE.js";function r(t){return void 0!==(null==t?void 0:t.length)?t:Array.from(t)}function a(t,s){t.f(),function(t,s){e(t,1,1,(()=>{s.delete(t.key)}))}(t,s)}function f(e,n,o,r,a,f,i,c,h,u,d,m){let p=e.length,l=f.length,g=p;const y={};for(;g--;)y[e[g].key]=g;const k=[],j=new Map,w=new Map,M=[];for(g=l;g--;){const t=m(a,f,g),e=o(t);let s=i.get(e);s?M.push((()=>s.p(t,n))):(s=u(e,t),s.c()),j.set(e,k[g]=s),e in y&&w.set(e,Math.abs(g-y[e]))}const b=new Set,v=new Set;function x(e){t(e,1),e.m(c,d),i.set(e.key,e),d=e.first,l--}for(;p&&l;){const t=k[l-1],s=e[p-1],n=t.key,o=s.key;t===s?(d=t.first,p--,l--):j.has(o)?!i.has(n)||b.has(n)?x(t):v.has(o)?p--:w.get(n)>w.get(o)?(v.add(n),x(t)):(b.add(o),p--):(h(s,i),p--)}for(;p--;){const t=e[p];j.has(t.key)||h(t,i)}for(;l;)x(k[l-1]);return s(M),k}function i(t){n(`${o}${t}`)}export{r as e,a as f,i as n,f as u};
