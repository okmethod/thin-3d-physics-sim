import{t,a as e}from"./index.Dw4ZbNqI.js";import{r as n}from"./scheduler.Cvti5IDW.js";import{g as s,b as o}from"./entry.B1QQRAME.js";function r(t){return void 0!==(null==t?void 0:t.length)?t:Array.from(t)}function a(t,n){t.f(),function(t,n){e(t,1,1,(()=>{n.delete(t.key)}))}(t,n)}function f(e,s,o,r,a,f,c,i,u,h,d,l){let g=e.length,m=f.length,p=g;const y={};for(;p--;)y[e[p].key]=p;const k=[],w=new Map,j=new Map,M=[];for(p=m;p--;){const t=l(a,f,p),e=o(t);let n=c.get(e);n?M.push((()=>n.p(t,s))):(n=h(e,t),n.c()),w.set(e,k[p]=n),e in y&&j.set(e,Math.abs(p-y[e]))}const b=new Set,v=new Set;function x(e){t(e,1),e.m(i,d),c.set(e.key,e),d=e.first,m--}for(;g&&m;){const t=k[m-1],n=e[g-1],s=t.key,o=n.key;t===n?(d=t.first,g--,m--):w.has(o)?!c.has(s)||b.has(s)?x(t):v.has(o)?g--:j.get(s)>j.get(o)?(v.add(s),x(t)):(b.add(o),g--):(u(n,c),g--)}for(;g--;){const t=e[g];w.has(t.key)||u(t,c)}for(;m;)x(k[m-1]);return n(M),k}function c(t){s(`${o}${t}`)}export{r as e,a as f,c as n,f as u};
